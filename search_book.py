import sqlite3

conn = sqlite3.connect('books.db')

cursor = conn.cursor()


# need function to search by subject/category also need to add column in the BOOK datase for category

def searchBook_Byauthor(author):
    cursor.execute(
        """SELECT b.ISBN, b.title, b.year, b.author, b.sub, b.price FROM BOOK AS b WHERE author=?""", (author,))
    record = cursor.fetchall()
    print("----------------------------------------------------------------------------------------------------------------------------------------")
    print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format('ISBN', 'Title', 'Published Year', 'Author', 'Subject', 'Price'))
    print("----------------------------------------------------------------------------------------------------------------------------------------")
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    if(record):
        for r in record:
            print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format(r[0], r[1], r[2], r[3],r[4], r[5]))
            print("----------------------------------------------------------------------------------------------------------------------------------------")

    else:
        print("No matched found")


def searchBook_ByISBN(ISBN):
    cursor.execute(
        """SELECT b.ISBN, b.title, b.year, b.author, b.sub, b.price FROM BOOK AS b WHERE ISBN=?""", (ISBN,))
    record = cursor.fetchall()
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format('ISBN', 'Title', 'Published Year', 'Author', 'Subject',
                                                            'Price'))
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    if (record):
        for r in record:
            print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format(r[0], r[1], r[2], r[3], r[4], r[5]))
            print(
                "----------------------------------------------------------------------------------------------------------------------------------------")

    else:
        print("No matched found")


def searchBook_Bytitle(title):
    cursor.execute(
        """SELECT b.ISBN, b.title, b.year, b.author, b.sub, b.price FROM BOOK AS b WHERE title=?""", (title,))
    record = cursor.fetchall()
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format('ISBN', 'Title', 'Published Year', 'Author', 'Subject',
                                                            'Price'))
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    if (record):
        for r in record:
            print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format(r[0], r[1], r[2], r[3], r[4], r[5]))
            print(
                "----------------------------------------------------------------------------------------------------------------------------------------")

    else:
        print("No matched found")

def searchBook_Bysubject(sub):
    cursor.execute(
        """SELECT b.ISBN, b.title, b.year, b.author, b.sub, b.price FROM BOOK AS b WHERE sub=?""", (sub,))
    record = cursor.fetchall()
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format('ISBN', 'Title', 'Published Year', 'Author', 'Subject',
                                                            'Price'))
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    print(
        "----------------------------------------------------------------------------------------------------------------------------------------")
    if (record):
        for r in record:
            print('{:<20} {:<40} {:<25} {:<25} {:<15} {:<8}'.format(r[0], r[1], r[2], r[3], r[4], r[5]))
            print(
                "----------------------------------------------------------------------------------------------------------------------------------------")

    else:
        print("No matched found")